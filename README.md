# CypherD-hackathon

# Mock Web3 Wallet Backend
A Go-based backend for a mock Ethereum wallet application, allowing users to create wallets, view balances, and simulate secure ETH/USD transfers.

#  Features
1) Create new wallets with a random starting balance.
2) Import existing wallets.
3) View wallet balance and details.
4) Perform transactions between wallets (send and receive funds).
5) Real-time USD to ETH price quotes via Skip API
6) View a complete transaction history for any wallet.

# Tech Stack
Language: Go (Golang)

Web Framework: Gin

ORM: GORM

Database: MySQL

# Getting Started

# Prerequisites
Go (version 1.18 or higher)

MySQL Server

# 1 Setup

# Clone the repository 
git clone https://github.com/Shamyuktha-V/cypherD-hackathon.git

cd CypherD-hackathon

# Install dependencies
go mod tidy

# 2 Database Configuration

1) Ensure your MySQL server is running.
2) Create a new database, for example: CREATE DATABASE wallet_db;.
3) The application uses GORM's AutoMigrate feature, so it will create the wallets and transactions tables for you on the first run.

# 3 Environment Variables
Create a .env file in the root of your project and add your database credentials.

DB_USER=root

DB_PASSWORD=your_password

DB_HOST = 127.0.0.1

DB_PORT = 3306

DB_NAME = wallet_db

BACKEND_URL = http://localhost:8080

# 4 Running the Application
Run the server from the root directory

go run src/main/main.go

# API Endpoints

Replace YOUR_WALLET_ADDRESS and RECIPIENT_WALLET_ADDRESS with actual addresses from your database.

# Wallet Management

# 1. Create a Wallet
Endpoint: POST /wallet/create

Description: Creates a new wallet record with a random starting balance.

cURL Command:

curl -X POST -H "Content-Type: application/json" \
-d '{"address": "YOUR_WALLET_ADDRESS"}' \
http://localhost:8080/wallet/create

# 2. Import a Wallet
Endpoint: POST /wallet/import

Description: Finds an existing wallet or creates a new one if it doesn't exist.

cURL Command:

curl -X POST -H "Content-Type: application/json" \
-d '{"address": "YOUR_WALLET_ADDRESS"}' \
http://localhost:8080/wallet/import

# 3. Get Wallet Details
Endpoint: GET /wallet/:address

Description: Retrieves the balance and details for a specific wallet.

cURL Command:

curl http://localhost:8080/wallet/YOUR_WALLET_ADDRESS

# Transaction Management

# 4. Initiate a Transfer
Endpoint: POST /transactions/initiate

Description: Prepares a transaction and returns a message to be signed.

cURL Command (ETH Transfer):

curl -X POST -H "Content-Type: application/json" \
-d '{"from": "YOUR_WALLET_ADDRESS", "to": "RECIPIENT_WALLET_ADDRESS", "amount": "0.5", "currency": "ETH"}' \
http://localhost:8080/transactions/initiate

cURL Command (USD Transfer):

curl -X POST -H "Content-Type: application/json" \
-d '{"from": "YOUR_WALLET_ADDRESS", "to": "RECIPIENT_WALLET_ADDRESS", "amount": "1000", "currency": "USD"}' \
http://localhost:8080/transactions/initiate
(Note: The response will contain a transactionId. You need this for the next step.)

# 5. Execute a Transfer

Endpoint: POST /transactions/execute

Description: Verifies a signature and finalizes the transaction.

cURL Command:

curl -X POST -H "Content-Type: application/json" \
-d '{"transactionId": 123, "signature": "YOUR_SIGNATURE_HERE"}' \
http://localhost:8080/transactions/execute
(Note: transactionId comes from the /initiate response. The signature must be generated by the frontend.)

# 6. Get Transaction History
   
Endpoint: GET /transactions/:address

Description: Fetches all transactions where the address is the sender or recipient.

cURL Command:

curl http://localhost:8080/transactions/YOUR_WALLET_ADDRESS

